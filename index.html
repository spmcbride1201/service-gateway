<!doctype html>
<!--[if lt IE 7]>            <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>                 <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>                 <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js">
<!--<![endif]-->

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <!-- not cache for PKI auth -->
  <meta http-equiv="cache-control" content="max-age=0" />
  <meta http-equiv="cache-control" content="no-cache, no-store" />
  <meta http-equiv="expires" content="0" />
  <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
  <meta http-equiv="pragma" content="no-cache" />
  <base href="/">
  <title>Grey Matter Microservice Fabric</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width">
  <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

  <link rel="stylesheet" href="./css/error.css" />
  <link rel="stylesheet" href="./css/uikit.min.css" />
  <link rel="stylesheet" href="./css/styles.css" />

  <script type="text/javascript" src="//fast.fonts.net/jsapi/795ea957-4f04-4107-b927-6f74562c2b7c.js"></script>
  <script src="./js/jquery-3.2.1.min.js"></script>
  <script src="./js/uikit.min.js"></script>
  <script src="./js/uikit-icons.min.js"></script>

</head>

<body ng-app="chimeraApp" class="chimera ng-scope">

  <!-- STAET CONTENT HEADER -->
  <div class="header content rows-content-header">

    <!-- BEGIN: Navigation bar -->
    <nav class="uk-navbar navbar">
      <div class="uk-navbar-left">
        <div class="uk-navbar-item uk-logo">
          <img alt='Decipher Logo' id='decipher-logo' class="logo" src='./images/decipherLogo.svg' />
          <img alt='Gray Matter Logo' class="logo" id="product-logo" src='./images/gm-fabric-logo.svg' />
          <span class="logo" id="logo-text">
            Fabric
          </span>
        </div>
      </div>
    </nav>
    <!-- END: Navigation bar -->

  </div>
  <!-- END CONTENT HEADER -->
  <div class="container">
    <div class="services-content">
      <h1>Services</h1>
      <div id="services" class="services-list">
      </div>
      <script>

        //Build object model
        var serviceList = {};
          serviceList.aac_v1_1 = [];
          serviceList.odrive_v1_0 = [];
          var service = {};
          service.description = "Security Service v1.1";
          service.url = "https://private.deciphernow.com&#x2F;services&#x2F;aac&#x2F;1.1&#x2F;";
          service.hasServers = true;

          serviceList.aac_v1_1.push(service);
          var service = {};
          service.description = "oDrive Service v1.0";
          service.url = "https://private.deciphernow.com&#x2F;services&#x2F;object-drive&#x2F;1.0&#x2F;";
          service.hasServers = true;

          serviceList.odrive_v1_0.push(service);

        //Create HTML based on categories
        var serviceHtml = '';
        for (var serviceCategory in serviceList) {

          if (serviceCategory != 'hide') {
            if (serviceList.hasOwnProperty(serviceCategory)) {
              var serviceEndpoints = serviceList[serviceCategory];

              for (var service in serviceEndpoints) {
                var serviceInfo = serviceEndpoints[service];


                if (serviceInfo.hasServers) {
                  serviceHtml += "<div class='service service-up " + serviceInfo.url + "'>";
                  if(serviceInfo.url.indexOf("/admin") > -1) {
                    var gmadminURL = serviceInfo.url.replace("/admin", "/gmadmin/");
                    serviceHtml += "<a href=" + gmadminURL + ">";
                  } else {
                    serviceHtml += "<a href=" + serviceInfo.url + ">";
                  }
                  serviceHtml += "<h1 class='service-title'>" + serviceInfo.description + "</h1></a> <p class='service-links'><a class='metrics' href=''>Metrics</a></p></div>";
                } else {
                  serviceHtml += "<div class='service service-down " + serviceInfo.url + "'><h1 class='service-title'>" + serviceInfo.description + "</h1><p class='status'>Offline</p></div>";
                }
              }
            }
          }
        }
        serviceHtml += '<p class="services-heading services-heading-up">Up</p> <p class="services-heading services-heading-down">Down</p>';
        document.getElementById("services").innerHTML = serviceHtml;
      </script>
    </div>
    <div class="grey-matter-content">
      <h1 id="grey-matter">
        <img alt='Gray Matter Logo' class="gm-logo" src="./images/gm-logo.png" />
      </h1>
    </div>

    <div class="decipher-content">
      <img src="./images/decipher-logo-full.png" />
      <p class="tagline">Software for your sixth sense.</p>
      <div class="decipher-links">
        <a href="https://github.com/deciphernow" class="link">
          <img src="./images/icons/octocat.svg" />
          <h6>GitHub</h6>
          <p>github.com/DecipherNow</p>
        </a>
        <a href="https://twitter.com/deciphernow" class="link">
          <img src="./images/icons/twitter.svg" />
          <h6>Twitter</h6>
          <p>twitter.com/DecipherNow</p>
        </a>
        <a href="https://linkedin.com/company/decipher-technology-studios" class="link">
          <img src="./images/icons/linkedin.svg" />
          <h6>LinkedIn</h6>
          <p>linkedin.com/company/decipher-technology-studios</p>
        </a>
        <a href="https://index.co/company/decipher-technology-studios" class="link">
          <img src="./images/icons/index.svg" />
          <h6>Index by TNW</h6>
          <p>index.co/company/decipher-technology-studios</p>
        </a>
      </div>
    </div>
  </div>
  <script>


  </script>
</body>

</html>
